<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>釜山姊妹遊 Busan Trip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: #fcfcfc; /* 依照圖片背景色延伸 */
            margin: 0; padding: 0;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* 頁首圓弧銜接效果 */
        .header-banner {
            width: 100%;
            height: 300px;
            background-image: url('image_ac77bf.jpg');
            background-size: cover;
            background-position: left center;
            position: relative;
        }
        .main-content {
            margin-top: -50px; /* 圓弧向上重疊 */
            border-radius: 40px 40px 0 0;
            background: white;
            min-height: 100vh;
            padding: 24px;
            position: relative;
            box-shadow: 0 -10px 20px rgba(0,0,0,0.05);
        }

        /* 導覽按鈕樣式 */
        .tab-btn {
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
        }
        .tab-btn.active {
            background-color: #ffb7c5;
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(255, 183, 197, 0.4);
        }
        .date-item.active {
            background: #ffb7c5;
            color: white;
            border-color: #ffb7c5;
        }
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto relative overflow-x-hidden">
        
        <header class="header-banner">
            <div class="absolute bottom-16 right-4 flex gap-2 bg-white/80 backdrop-blur-md p-2 rounded-2xl shadow-lg border border-white/50">
                <button @click="currentTab = 'itinerary'" :class="['tab-btn', currentTab==='itinerary'?'active':'text-gray-400']"><i data-lucide="map-pin"></i></button>
                <button @click="currentTab = 'info'" :class="['tab-btn', currentTab==='info'?'active':'text-gray-400']"><i data-lucide="info"></i></button>
                <button @click="currentTab = 'shop'" :class="['tab-btn', currentTab==='shop'?'active':'text-gray-400']"><i data-lucide="shopping-basket"></i></button>
                <button @click="currentTab = 'cost'" :class="['tab-btn', currentTab==='cost'?'active':'text-gray-400']"><i data-lucide="wallet"></i></button>
            </div>
        </header>

        <main class="main-content">
            
            <div v-if="currentTab === 'itinerary'">
                <div class="flex items-center justify-between bg-blue-50/50 p-4 rounded-3xl mb-6 border border-blue-100">
                    <div class="flex items-center gap-3">
                        <i data-lucide="cloud-sun" class="text-blue-400"></i>
                        <div>
                            <p class="text-[10px] text-gray-400 uppercase font-bold">Busan Today</p>
                            <p class="font-bold text-gray-700">18°C / 體感 16°C</p>
                        </div>
                    </div>
                    <span class="text-xs font-bold text-blue-500">Sunny</span>
                </div>

                <div class="flex overflow-x-auto gap-3 no-scrollbar mb-8">
                    <div v-for="d in dates" :key="d.id" @click="selectedDate = d.id"
                         :class="['date-item flex-shrink-0 w-16 h-20 rounded-3xl border flex flex-col items-center justify-center transition-all cursor-pointer', selectedDate === d.id ? 'active' : 'bg-white border-gray-100 text-gray-400']">
                        <span class="text-[10px] font-bold uppercase mb-1">{{ d.week }}</span>
                        <span class="text-xl font-bold">{{ d.day }}</span>
                    </div>
                </div>

                <div class="space-y-6">
                    <div v-for="(item, index) in filteredItinerary" :key="index" class="relative">
                        <div v-if="index > 0" class="flex flex-col items-center -mt-6 mb-2">
                            <div class="w-0.5 h-6 bg-gray-100"></div>
                            <div class="flex items-center gap-1 text-[10px] text-gray-400 bg-gray-50 px-2 py-0.5 rounded-full border border-gray-100">
                                <i :data-lucide="item.transportIcon || 'bus'" class="w-3 h-3"></i> {{ item.travelTime || '15 min' }}
                            </div>
                            <div class="w-0.5 h-6 bg-gray-100"></div>
                        </div>

                        <div class="bg-white p-4 rounded-[2rem] border border-gray-50 shadow-sm flex gap-4 items-center active:scale-95 transition-transform" @click="goMap(item.name)">
                            <div :class="['p-3 rounded-2xl', item.category === '航班' ? 'bg-blue-50 text-blue-400' : 'bg-pink-50 text-pink-400']">
                                <i :data-lucide="item.icon"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <h3 class="font-bold text-gray-800">{{ item.name }}</h3>
                                    <span class="text-[9px] px-2 py-0.5 rounded-md bg-gray-100 text-gray-400">{{ item.category }}</span>
                                </div>
                                <p class="text-[11px] text-gray-400 mt-0.5" v-if="item.time"><i data-lucide="clock" class="inline w-3 h-3 mr-1"></i>{{ item.time }}</p>
                                <p class="text-xs text-gray-500 mt-1 line-clamp-1 italic">{{ item.note }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'info'" class="space-y-6 animate-in slide-in-from-bottom-4 duration-300">
                <div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-6 rounded-[2.5rem] text-white shadow-xl">
                    <h3 class="font-bold mb-4 flex items-center gap-2"><i data-lucide="refresh-cw"></i> 匯率即時算</h3>
                    <div class="space-y-4 text-black">
                        <div class="bg-white/20 p-3 rounded-2xl border border-white/30 flex items-center">
                            <span class="text-white font-bold mr-3">KRW</span>
                            <input type="number" v-model="krw" class="bg-transparent border-none text-white font-bold w-full focus:ring-0 placeholder-white/50" placeholder="韓元金額">
                        </div>
                        <div class="flex justify-center text-white/50"><i data-lucide="arrow-down"></i></div>
                        <div class="bg-white p-4 rounded-2xl flex justify-between items-center shadow-inner">
                            <span class="font-bold text-gray-400">TWD</span>
                            <span class="text-2xl font-black text-indigo-600">NT$ {{ (krw * 0.024).toFixed(0) }}</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-5 rounded-[2rem] border border-gray-100 shadow-sm">
                    <h4 class="font-bold text-gray-800 mb-4 flex items-center gap-2"><i data-lucide="plane" class="text-pink-400"></i> 航班資訊</h4>
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-50 rounded-2xl">
                            <p class="text-[10px] text-gray-400 font-bold mb-1">去程 4/10 (五) 7C6154</p>
                            <div class="flex justify-between items-center"><span class="font-bold">TPE 02:50</span><i data-lucide="move-right" class="w-4"></i><span class="font-bold">PUS 06:10</span></div>
                        </div>
                        <div class="p-3 bg-gray-50 rounded-2xl">
                            <p class="text-[10px] text-gray-400 font-bold mb-1">回程 4/12 (日) IT607</p>
                            <div class="flex justify-between items-center"><span class="font-bold">PUS 20:45</span><i data-lucide="move-right" class="w-4"></i><span class="font-bold">TPE 22:10</span></div>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-5 rounded-[2rem] border border-gray-100 shadow-sm" @click="goMap('Stanford Inn Busan')">
                    <h4 class="font-bold text-gray-800 mb-2 flex items-center gap-2"><i data-lucide="hotel" class="text-pink-400"></i> 住宿飯店</h4>
                    <p class="text-sm font-bold text-gray-700">Stanford Inn Busan</p>
                    <p class="text-xs text-gray-400">南浦洞地鐵站旁，交通便利</p>
                    <div class="mt-3 text-blue-500 text-[10px] font-bold underline">點擊開啟導覽 →</div>
                </div>
            </div>

            <div v-if="currentTab === 'shop' || currentTab === 'cost'" class="py-20 text-center">
                <i data-lucide="smile" class="w-12 h-12 mx-auto text-gray-200 mb-4"></i>
                <p class="text-gray-300 font-bold">即將推出新功能！</p>
            </div>

        </main>

        <button class="fixed bottom-8 right-8 w-16 h-16 bg-pink-400 text-white rounded-full shadow-2xl flex items-center justify-center active:scale-90 transition-all z-50">
            <i data-lucide="plus" class="w-8 h-8"></i>
        </button>

    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;

        createApp({
            setup() {
                const currentTab = ref('itinerary');
                const selectedDate = ref('4/10');
                const krw = ref(10000);

                const dates = [
                    { id: '4/10', week: 'Fri', day: '10' },
                    { id: '4/11', week: 'Sat', day: '11' },
                    { id: '4/12', week: 'Sun', day: '12' }
                ];

                const itineraryData = [
                    // Day 1
                    { date: '4/10', name: '桃園機場 (7C6154)', category: '航班', icon: 'plane', time: '02:50', note: '釜山航空', transportIcon: 'bus', travelTime: 'Airport Link' },
                    { date: '4/10', name: '影島櫻花', category: '景點', icon: 'camera', note: '絕美櫻花隧道', transportIcon: 'walk', travelTime: '10 min' },
                    { date: '4/10', name: 'Olive Young 南浦洞', category: '購物', icon: 'shopping-bag', note: '藥妝採購', transportIcon: 'walk', travelTime: '5 min' },
                    { date: '4/10', name: '樂天超市', category: '購物', icon: 'shopping-cart', note: '零食與伴手禮' },
                    // Day 2
                    { date: '4/11', name: '海雲台藍線公園', category: '景點', icon: 'train', time: '10:00', note: '膠囊火車', transportIcon: 'car', travelTime: '30 min' },
                    { date: '4/11', name: '新世界百貨', category: '購物', icon: 'shopping-bag', note: '免稅店與午餐', transportIcon: 'car', travelTime: '15 min' },
                    { date: '4/11', name: '藍瓶咖啡 Blue Bottle', category: '美食', icon: 'coffee', note: '海邊下午茶', transportIcon: 'bus', travelTime: '20 min' },
                    { date: '4/11', name: '西面商圈', category: '景點', icon: 'map', note: '釜山明洞，晚餐' },
                    // Day 3
                    { date: '4/12', name: '釜山傳統市場', category: '景點', icon: 'utensils', time: '09:00', note: '吃早餐與乾貨', transportIcon: 'bus', travelTime: '15 min' },
                    { date: '4/12', name: '廣安里海灘', category: '景點', icon: 'palmtree', note: '看廣安大橋', transportIcon: 'car', travelTime: '40 min' },
                    { date: '4/12', name: '金海機場 (IT607)', category: '航班', icon: 'plane', time: '20:45', note: '回程準備' }
                ];

                const filteredItinerary = computed(() => {
                    return itineraryData.filter(item => item.date === selectedDate.value);
                });

                const goMap = (loc) => {
                    window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(loc + ' Busan')}`);
                };

                onMounted(() => {
                    lucide.createIcons();
                });

                return { currentTab, selectedDate, dates, filteredItinerary, krw, goMap };
            }
        }).mount('#app');
    </script>
</body>
</html>
