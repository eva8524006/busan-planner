<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>釜山姊妹遊行程</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fcfcfc; /* 延伸圖片底色 */
        }
        /* 隱藏捲軸但保持滾動 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* 頁首圓弧銜接 */
        .header-bg {
            background-image: url('https://raw.githubusercontent.com/your-username/your-repo/main/banner.jpg'); /* 替換為您的圖片路徑 */
            background-size: cover;
            background-position: center;
            height: 280px;
        }
        .main-content {
            margin-top: -40px;
            border-top-left-radius: 40px;
            border-top-right-radius: 40px;
            background: white;
            min-height: 100vh;
            padding-bottom: 100px;
        }
        .date-card.active {
            background: #ffb7c5;
            color: white;
        }
        /* 拖拽排序樣式 */
        .ghost-card {
            opacity: 0.5;
            background: #f0f9ff;
        }
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto relative shadow-2xl min-h-screen">
        
        <header class="header-bg relative">
            <div class="absolute bottom-12 right-4 flex gap-2 bg-white/80 backdrop-blur-md p-2 rounded-2xl shadow-lg">
                <button @click="currentTab = 'itinerary'" :class="tabClass('itinerary')"><i data-lucide="map-pin"></i></button>
                <button @click="currentTab = 'info'" :class="tabClass('info')"><i data-lucide="info"></i></button>
                <button @click="currentTab = 'shop'" :class="tabClass('shop')"><i data-lucide="shopping-basket"></i></button>
                <button @click="currentTab = 'cost'" :class="tabClass('cost')"><i data-lucide="wallet"></i></button>
            </div>
        </header>

        <main class="main-content shadow-inner p-6">
            
            <div v-if="currentTab === 'itinerary'">
                <div class="flex items-center justify-between bg-blue-50 p-4 rounded-2xl mb-6">
                    <div class="flex items-center gap-3">
                        <i data-lucide="cloud-sun" class="text-blue-500"></i>
                        <div>
                            <p class="text-sm text-gray-500">釜山天氣</p>
                            <p class="font-bold text-lg">18°C / 體感 16°C</p>
                        </div>
                    </div>
                    <span class="text-xs bg-white px-2 py-1 rounded-full text-blue-400">晴時多雲</span>
                </div>

                <div class="flex overflow-x-auto gap-4 no-scrollbar mb-8 pb-2">
                    <div v-for="day in days" :key="day.date" 
                         @click="selectedDate = day.date"
                         class="date-card flex-shrink-0 w-16 h-20 rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all border"
                         :class="selectedDate === day.date ? 'active border-pink-300 shadow-md' : 'bg-white text-gray-400 border-gray-100'">
                        <span class="text-xs font-medium uppercase">{{ day.week }}</span>
                        <span class="text-xl font-bold">{{ day.dayNum }}</span>
                    </div>
                </div>

                <div class="space-y-6 relative">
                    <div v-for="(item, index) in filteredItinerary" :key="item.id" class="relative">
                        <div v-if="index > 0" class="flex flex-col items-center my-2 -ml-32">
                            <div class="border-l-2 border-dashed border-gray-300 h-8"></div>
                            <div class="flex items-center gap-1 text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded-full">
                                <i :data-lucide="item.transportType" class="w-3 h-3"></i> {{ item.travelTime }}
                            </div>
                            <div class="border-l-2 border-dashed border-gray-300 h-8"></div>
                        </div>

                        <div class="bg-white p-4 rounded-3xl shadow-sm border border-gray-50 flex gap-4 items-start" 
                             @click="openMap(item.name)">
                            <div class="bg-pink-50 p-3 rounded-2xl text-pink-400">
                                <i :data-lucide="item.icon"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <h3 class="font-bold text-gray-800">{{ item.name }}</h3>
                                    <span class="text-[10px] px-2 py-1 rounded-lg bg-gray-100 text-gray-500">{{ item.category }}</span>
                                </div>
                                <p class="text-xs text-gray-400 mt-1" v-if="item.time"><i data-lucide="clock" class="inline w-3 h-3"></i> {{ item.time }}</p>
                                <p class="text-sm text-gray-600 mt-2">{{ item.note }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'info'" class="space-y-6">
                <div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-6 rounded-3xl text-white shadow-lg">
                    <h3 class="font-bold mb-4 flex items-center gap-2"><i data-lucide="refresh-cw"></i> 即時匯率換算</h3>
                    <div class="space-y-3 text-black">
                        <input type="number" v-model="krwInput" class="w-full p-3 rounded-xl outline-none" placeholder="KRW (韓元)">
                        <div class="text-center text-white font-bold">≈</div>
                        <div class="w-full p-3 rounded-xl bg-white/20 text-white font-bold border border-white/30">
                           TWD {{ (krwInput * 0.024).toFixed(0) }} (台幣)
                        </div>
                    </div>
                </div>

                <div class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-800 mb-4 flex items-center gap-2 text-pink-500"><i data-lucide="plane"></i> 航班資訊</h3>
                    <div class="space-y-4">
                        <div class="border-b pb-4">
                            <div class="flex justify-between text-xs text-gray-400 mb-2"><span>4/10 (五)</span><span>7C6154</span></div>
                            <div class="flex justify-between items-center text-xl font-bold">
                                <span>TPE</span>
                                <i data-lucide="move-right" class="text-gray-300"></i>
                                <span>PUS</span>
                            </div>
                            <div class="flex justify-between text-sm mt-1"><span>02:50</span><span>06:10</span></div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs text-gray-400 mb-2"><span>4/12 (日)</span><span>IT607</span></div>
                            <div class="flex justify-between items-center text-xl font-bold">
                                <span>PUS</span>
                                <i data-lucide="move-right" class="text-gray-300"></i>
                                <span>TPE</span>
                            </div>
                            <div class="flex justify-between text-sm mt-1"><span>20:45</span><span>22:10</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'cost'">
                <div class="text-center mb-6">
                    <p class="text-gray-400 text-sm">本次旅行總花費 (TWD)</p>
                    <h2 class="text-3xl font-bold text-gray-800">NT$ 12,450</h2>
                </div>
                </div>

        </main>

        <button v-if="currentTab !== 'info'" class="fixed bottom-6 right-6 w-14 h-14 bg-pink-400 text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform">
            <i data-lucide="plus" class="w-8 h-8"></i>
        </button>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const currentTab = ref('itinerary');
                const selectedDate = ref('4/10');
                const krwInput = ref(10000);

                const days = [
                    { date: '4/10', week: 'Fri', dayNum: '10' },
                    { date: '4/11', week: 'Sat', dayNum: '11' },
                    { date: '4/12', week: 'Sun', dayNum: '12' }
                ];

                const itineraryData = ref([
                    { id: 1, date: '4/10', name: '7C6154 桃園→釜山', category: '航班', icon: 'plane', time: '02:50', note: '航廈 1', transportType: 'bus', travelTime: '機場巴士 45min' },
                    { id: 2, date: '4/10', name: '影島櫻花', category: '景點', icon: 'camera', time: '10:00', note: '必拍櫻花隧道', transportType: 'walk', travelTime: '15min' },
                    { id: 3, date: '4/10', name: 'Olive Young (南浦洞)', category: '購物', icon: 'shopping-bag', time: '14:00', note: '掃貨護膚品' },
                    { id: 4, date: '4/11', name: '海雲台', category: '景點', icon: 'palmtree', note: '海邊散步' }
                ]);

                const filteredItinerary = computed(() => {
                    return itineraryData.value.filter(item => item.date === selectedDate.value);
                });

                const tabClass = (tab) => `p-3 rounded-xl transition-colors ${currentTab.value === tab ? 'bg-pink-400 text-white' : 'text-gray-400 hover:bg-gray-100'}`;

                const openMap = (location) => {
                    window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(location + ' Busan')}`, '_blank');
                };

                onMounted(() => {
                    lucide.createIcons();
                });

                return { currentTab, selectedDate, days, filteredItinerary, tabClass, krwInput, openMap };
            }
        }).mount('#app');
    </script>
</body>
</html>